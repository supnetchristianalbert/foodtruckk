<div class="container">
    <form class="p-2" novalidate (submit)="submitForm()" [formGroup]="signupForm">
        <div class="row">
            <div class="col-md-12 mb-2">
                <label for="username" class="form-label">User Name<span class="text-danger">*</span></label>
                <input type="text" class="form-control " formControlName="username"/>
            </div>

            @if(signupForm.controls.username.invalid &&
                (
                    signupForm.controls.username.dirty ||
                    signupForm.controls.username.touched
                )
            ) {
                @if (signupForm.controls.username.errors?.['required']) {
                    <p class="error text-danger">Username is Required</p>
                }
                
                @if (signupForm.controls.username.errors?.['minlength']) {
                    <p class="error text-danger">Username should have at least 6 characters</p>
                } 

                @if(signupForm.controls.username.errors?.['maxlength']) { 
                    <p class="error text-danger">Username cannot have more than 20 characters</p>
                }

                @if (signupForm.controls.username.errors?.['pattern']) {
                <p class="error text-danger">username format is invalid</p>
            }
            }

        </div>
        <div class="row">
            <label for="password" class="form-label">Password<span class="text-danger">*</span></label>
            <div class="col-md-12 mb-2 input-group">
                <input [type]="pwType" class="form-control" formControlName="password" />
                <app-togglepassword (togglePW)="showHidePw($event)"></app-togglepassword>
            </div>

            @if(signupForm.controls.password.invalid &&
                (
                    signupForm.controls.password.dirty ||
                    signupForm.controls.password.touched
                )
            ) {

                @if (signupForm.controls.password.errors?.['required']) {
                    <p class="error text-danger">Password is Required</p>
                }
            }
        </div>
        <div class="row">
            <div class="col-md-12 mb-2">
                <label for="name" class="form-label">Name</label>
                <input type="text" class="form-control" formControlName="name"/>
                
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 mb-3">
                <label for="address" class="form-label">Address<span class="text-danger">*</span></label>
                <input type="text" class="form-control" formControlName="address"/>

                @if(signupForm.controls.address.invalid &&
                    (
                        signupForm.controls.address.dirty ||
                        signupForm.controls.address.touched
                    )
                ) {
                    @if (signupForm.controls.address.errors?.['required']) {
                        <p class="error text-danger">Address is Required</p>
                    }
                }
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 mb-2">
                <label for="email" class="form-label">Email<span class="text-danger">*</span></label>
                <input type="text" class="form-control" formControlName="email"/>
            </div>

             @if(signupForm.controls.email.invalid &&
                (
                    signupForm.controls.email.dirty ||
                    signupForm.controls.email.touched
                )
            ) {
                @if (signupForm.controls.email.errors?.['required']) {
                    <p class="error text-danger">Email is Required</p>
                }
                @if (signupForm.controls.email.errors?.['pattern']) {
                    <p class="error text-danger">Email format is invalid</p>
                }
            }
        </div>
        <div class="row">
            <div class="col-md-12 mb-2">
                <label for="mobile" class="form-label">Mobile<span class="text-danger">*</span></label>
                <input type="text" class="form-control" formControlName="mobile"/>
            </div>

            @if(signupForm.controls.mobile.invalid &&
                (
                    signupForm.controls.mobile.dirty ||
                    signupForm.controls.mobile.touched
                )
            ) {
                @if (signupForm.controls.mobile.errors?.['required']) {
                    <p class="error text-danger">Mobile is Required</p>
                }

                @if (signupForm.controls.mobile.errors?.['pattern']) {
                    <p class="error text-danger">Mobile format is invalid</p>
                }
            }
        </div>
        <div class="row">
            <div class="col-lg-12 mb-2 mt-2">
                <button class="btn btn-primary" [disabled]="signupForm.invalid">Signup</button>
            </div>
        </div>

    </form>
    <section class="text-center">
        <p>Already have an account? Click <a href="" routerLink="/login">here</a> to Login.</p>
    </section>
</div>